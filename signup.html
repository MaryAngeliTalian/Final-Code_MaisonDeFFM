<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account | Maison De FFM</title>
    <link rel="stylesheet" href="signup.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="login-body">

    <div class="login-container">
        <!-- LEFT SIDE: Branding -->
        <div class="login-left">
            <img src="assets/logo/FFM.png" alt="Maison De FFM Logo" class="login-logo">
            <h1>MAISON DE FFM</h1>
            <p>Premium Home Beauty & Wellness</p>
        </div>

        <!-- RIGHT SIDE: Signup Form -->
        <div class="login-right">
            <div class="login-box">
                <h2>Create Account</h2>
                <p class="subtitle">Join us for personalized beauty at home</p>

                <form id="signup-form">
                    <input type="text" name="fullName" placeholder="Full Name" required>
                    <input type="email" name="email" placeholder="Email" required>
                    <input type="tel" name="phone" placeholder="Phone Number" required>
                    <input type="text" name="address" placeholder="Full Address" required>

                    <div class="select-wrapper">
                        <select name="gender" required>
                            <option value="" disabled selected>Gender</option>
                            <option value="female">Female</option>
                            <option value="male">Male</option>
                        </select>
                    </div>

                    <input type="date" name="birthday" required>

                    <input type="password" name="password" placeholder="Password" required>
                    <input type="password" name="confirmPassword" placeholder="Confirm Password" required>

                    <input type="text" id="signup-admin-code" placeholder="ADMIN CODE (Clients: N/A)" required>

                    <button type="submit" class="login-submit">SIGN UP</button>
                </form>

                <div class="signup">
                    Already have an account? <a href="login.html">Log In</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const ADMIN_CODE = "FFMADMIN2025";

        const form = document.getElementById('signup-form');
        
        form.addEventListener('submit', function (e) {
            e.preventDefault();

            const pwd = form.password.value;
            const confirm = form.confirmPassword.value;
            if (pwd !== confirm) {
                alert('Passwords do not match.');
                return;
            }

            const adminCode = document.getElementById("signup-admin-code").value.trim();
            const isAdmin = adminCode.toUpperCase() === ADMIN_CODE;

            const userData = {
                name: form.fullName.value,
                email: form.email.value,
                phone: form.phone.value,
                birthday: form.birthday.value,
                address: form.address.value
            };
            localStorage.setItem('mdffmUser', JSON.stringify(userData));

            localStorage.setItem("isLoggedIn", "true");
            localStorage.setItem("userRole", isAdmin ? "admin" : "client");
            localStorage.setItem("userEmail", form.email.value);

            window.location.href = isAdmin ? "admin.html" : "home.html";
        });
    </script>

</body>
</html>
